#!/bin/zsh
COMMAND=$1

install() {
  echo "Installing appwrite cli ..."
  npm install -g appwrite-cli

  echo "Logging in to API ..."
  appwrite login

  echo "Initializing Project"
  appwrite init --all
}

# Commando functions
startServices() {
  echo "Starting services"
  docker-compose up --build
  echo "Done."
}

stopServices() {
  echo "Stopping iCuisine services"
  docker-compose down
}

# Command execution
case "$COMMAND" in

up)
  startServices
  ;;
down)
  stopServices
  ;;
[iI]*)
  install
  ;;
*)
  echo "No command recognized. "
  echo "Possible commands: [up, down, login, i(nstall)]"
  ;;
esac
